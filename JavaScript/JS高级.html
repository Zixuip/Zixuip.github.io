<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Js高阶笔记 | Zixu知识笔记</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="这是一个知识点总结，JavaScript、HTML5、CSS、Vue等">
    <link rel="preload" href="/assets/css/0.styles.34d67128.css" as="style"><link rel="preload" href="/assets/js/app.294fffad.js" as="script"><link rel="preload" href="/assets/js/2.f1532a20.js" as="script"><link rel="preload" href="/assets/js/3.99e5e321.js" as="script"><link rel="prefetch" href="/assets/js/10.2900798d.js"><link rel="prefetch" href="/assets/js/11.1ec66009.js"><link rel="prefetch" href="/assets/js/12.b6c2d62a.js"><link rel="prefetch" href="/assets/js/13.f5881c68.js"><link rel="prefetch" href="/assets/js/14.aca440c5.js"><link rel="prefetch" href="/assets/js/4.1433da08.js"><link rel="prefetch" href="/assets/js/5.b3fe197c.js"><link rel="prefetch" href="/assets/js/6.86a087fc.js"><link rel="prefetch" href="/assets/js/7.a75e6b0f.js"><link rel="prefetch" href="/assets/js/8.e63063d9.js"><link rel="prefetch" href="/assets/js/9.658a7c7e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.34d67128.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Zixu知识笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/JS高级.html" class="nav-link">
  JS高级
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/红皮书.html" class="nav-link">
  高级程序设计(第三版)
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/ES6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件冒泡和捕获.html" class="nav-link">
  事件冒泡和捕获
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件委托.html" class="nav-link">
  事件委托
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件循环.html" class="nav-link">
  事件循环
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Database/MongoDB.html" class="nav-link">
  MongoDB基础
</a></li></ul></div></div><div class="nav-item"><a href="/Echarts/Echarts.html" class="nav-link">
  Echart
</a></div> <a href="https://github.com/Zixuip" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  About
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="JavaScript" class="dropdown-title"><span class="title">JavaScript</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/JavaScript/JS高级.html" class="nav-link">
  JS高级
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/红皮书.html" class="nav-link">
  高级程序设计(第三版)
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/ES6.html" class="nav-link">
  ES6
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件冒泡和捕获.html" class="nav-link">
  事件冒泡和捕获
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件委托.html" class="nav-link">
  事件委托
</a></li><li class="dropdown-item"><!----> <a href="/JavaScript/事件循环.html" class="nav-link">
  事件循环
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Database/MongoDB.html" class="nav-link">
  MongoDB基础
</a></li></ul></div></div><div class="nav-item"><a href="/Echarts/Echarts.html" class="nav-link">
  Echart
</a></div> <a href="https://github.com/Zixuip" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Js高阶笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_1-面向对象" class="sidebar-link">1.面向对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_1-1-面向过程（pop）" class="sidebar-link">1.1. 面向过程（POP）</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_1-2-面向对象（oop）" class="sidebar-link">1.2. 面向对象（OOP）</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_1-2-1-三大特性" class="sidebar-link">1.2.1 三大特性</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_2-es6的类和对象" class="sidebar-link">2. Es6的类和对象</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_2-1-对象" class="sidebar-link">2.1. 对象</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_2-2-类class" class="sidebar-link">2.2. 类class</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_2-3-创建类" class="sidebar-link">2.3. 创建类</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_2-4-constructor-构造函数" class="sidebar-link">2.4. constructor()构造函数</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_2-5-类添加方法" class="sidebar-link">2.5. 类添加方法</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_3-类的继承" class="sidebar-link">3. 类的继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_3-1-继承" class="sidebar-link">3.1. 继承</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_3-2-super关键字" class="sidebar-link">3.2. super关键字</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-构造函数和原型" class="sidebar-link">4. 构造函数和原型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-1-概念" class="sidebar-link">4.1. 概念</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-2-构造函数" class="sidebar-link">4.2. 构造函数</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-3-构造函数的问题" class="sidebar-link">4.3. 构造函数的问题</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-4-构造函数原型-prototype" class="sidebar-link">4.4. 构造函数原型 prototype</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-5-对象原型-proto" class="sidebar-link">4.5. 对象原型__proto__</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-6-constructor-构造函数" class="sidebar-link">4.6. constructor 构造函数</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-7-构造函数、实例、原型对象三者之间的关系" class="sidebar-link">4.7. 构造函数、实例、原型对象三者之间的关系</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-8-原型链" class="sidebar-link">4.8. 原型链</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-9-javascript的成员查找机制（规则）" class="sidebar-link">4.9. JavaScript的成员查找机制（规则）</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-10-原型对象this指向" class="sidebar-link">4.10. 原型对象this指向</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_4-11-拓展内置对象" class="sidebar-link">4.11. 拓展内置对象</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_5-继承" class="sidebar-link">5. 继承</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_5-1-call" class="sidebar-link">5.1. call()</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_5-2-借用构造函数继承父类属性" class="sidebar-link">5.2. 借用构造函数继承父类属性</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_5-3-借用原型对象继承父类型方法" class="sidebar-link">5.3. 借用原型对象继承父类型方法</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_6-es5中新增的方法" class="sidebar-link">6. ES5中新增的方法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_6-1-方法描述" class="sidebar-link">6.1. 方法描述</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_6-2-数组方法" class="sidebar-link">6.2. 数组方法</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_6-3-字符串方法" class="sidebar-link">6.3. 字符串方法</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_6-4-对象方法" class="sidebar-link">6.4. 对象方法</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_7-函数的定义和调用" class="sidebar-link">7. 函数的定义和调用</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_7-1-函数的定义方法" class="sidebar-link">7.1. 函数的定义方法</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_7-2-函数的调用方式" class="sidebar-link">7.2. 函数的调用方式</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_8-this" class="sidebar-link">8. this</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_8-1-函数内this的指向" class="sidebar-link">8.1. 函数内this的指向</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_8-2-改变函数内部this指向" class="sidebar-link">8.2. 改变函数内部this指向</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_8-2-1-call" class="sidebar-link">8.2.1. call()</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_8-2-2-apply" class="sidebar-link">8.2.2. apply()</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_8-2-3-bind" class="sidebar-link">8.2.3. bind()</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#call、apply、bind三个方法的区别" class="sidebar-link">call、apply、bind三个方法的区别</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_9-严格模式" class="sidebar-link">9. 严格模式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_9-1-定义" class="sidebar-link">9.1. 定义</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_9-2-开启严格模式" class="sidebar-link">9.2. 开启严格模式</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_9-2-1-为脚本开启严格模式" class="sidebar-link">9.2.1. 为脚本开启严格模式</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_9-2-2-严格模式中的变化" class="sidebar-link">9.2.2. 严格模式中的变化</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_10-高阶函数" class="sidebar-link">10. 高阶函数</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_11-闭包" class="sidebar-link">11. 闭包</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_11-1-变量作用域" class="sidebar-link">11.1. 变量作用域</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_11-2-什么是闭包" class="sidebar-link">11.2. 什么是闭包</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_11-3-闭包案例" class="sidebar-link">11.3. 闭包案例</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_12-迭代" class="sidebar-link">12. 迭代</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_12-1-什么是递归函数" class="sidebar-link">12.1. 什么是递归函数</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_12-2-利用递归求数学题" class="sidebar-link">12.2. 利用递归求数学题</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_12-3-求斐波那契数列" class="sidebar-link">12.3. 求斐波那契数列</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_12-4-递归求：根据id返回对应的数据对象" class="sidebar-link">12.4. 递归求：根据id返回对应的数据对象</a></li></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_13-浅拷贝和深拷贝" class="sidebar-link">13. 浅拷贝和深拷贝</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_14-正则表达式" class="sidebar-link">14. 正则表达式</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_14-1-创建正则表达式" class="sidebar-link">14.1. 创建正则表达式</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_14-2-测试正则表达式test" class="sidebar-link">14.2. 测试正则表达式test</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_14-3-正则表达式的组成" class="sidebar-link">14.3. 正则表达式的组成</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_14-3-1-边界符" class="sidebar-link">14.3.1. 边界符</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_14-3-2-量词符" class="sidebar-link">14.3.2. 量词符</a></li><li class="sidebar-sub-header"><a href="/JavaScript/JS%E9%AB%98%E7%BA%A7.html#_14-3-4-预定义类" class="sidebar-link">14.3.4. 预定义类</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js高阶笔记"><a href="#js高阶笔记" class="header-anchor">#</a> Js高阶笔记</h1> <h2 id="_1-面向对象"><a href="#_1-面向对象" class="header-anchor">#</a> 1.面向对象</h2> <h3 id="_1-1-面向过程（pop）"><a href="#_1-1-面向过程（pop）" class="header-anchor">#</a> 1.1. 面向过程（POP）</h3> <blockquote><p>按照我们分析好的步骤，按照步骤解决问题</p></blockquote> <ul><li>优点：性能比面向对象高，适合跟硬件联系很紧密的东西，例如：单片机</li> <li>缺点：没有面向对象易维护、易复用、易拓展</li></ul> <h3 id="_1-2-面向对象（oop）"><a href="#_1-2-面向对象（oop）" class="header-anchor">#</a> 1.2. 面向对象（OOP）</h3> <blockquote><p>把事物分解成一个个对象，然后由对象之间分工与合作。以对象的功能来划分问题</p></blockquote> <ul><li>优点：易维护、易复用、易拓展，外加三大特性，可以设计出低耦合的系统，使系统更加灵活、更加易于维护</li> <li>缺点：<strong>性能</strong>比面向过程低</li></ul> <h3 id="_1-2-1-三大特性"><a href="#_1-2-1-三大特性" class="header-anchor">#</a> 1.2.1 三大特性</h3> <ul><li>封装性</li> <li>继承性</li> <li>多态性</li></ul> <blockquote><p><strong>特殊比喻</strong>：</p> <p>面向过程：写出来的程序是一份蛋炒饭，</p> <p>面向对象：写出来的程序是一份盖浇饭（可以根据自己的需求去选择酱汁）</p></blockquote> <h2 id="_2-es6的类和对象"><a href="#_2-es6的类和对象" class="header-anchor">#</a> 2. Es6的类和对象</h2> <h3 id="_2-1-对象"><a href="#_2-1-对象" class="header-anchor">#</a> 2.1. 对象</h3> <blockquote><p>对象是一个具体的事物，由属性和方法组成</p></blockquote> <ul><li>属性：事物的<strong>特征</strong>，在对象中用<strong>属性</strong>来表示（常用名词）</li> <li>方法：事物的<strong>行为</strong>，在对象中用<strong>方法</strong>来表示（常用动词</li></ul> <h3 id="_2-2-类class"><a href="#_2-2-类class" class="header-anchor">#</a> 2.2. 类class</h3> <blockquote><p><strong>类</strong>抽象了对象的公共部分，它<strong>泛指</strong>某一大类（class)</p></blockquote> <h3 id="_2-3-创建类"><a href="#_2-3-创建类" class="header-anchor">#</a> 2.3. 创建类</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Star</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Hello'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> zx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'zixu'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1. 通过class关键字创建类，类名一般首字母大写</span>
<span class="token comment">//2. 类里面有constructor函数，可以接收参数，同时返回给实例对象</span>
<span class="token comment">//3. constructor 函数，在new一个实例的时候，就会自动调用。即使我们没有些该函数，类也会自动生成该函数</span>
<span class="token comment">//4. 生成实例 new 不能省略</span>
<span class="token comment">//5. 创建类 类名后面不要加小括号，生成实例 类名后面加小括号，构造函数不需要加function</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_2-4-constructor-构造函数"><a href="#_2-4-constructor-构造函数" class="header-anchor">#</a> 2.4. constructor()构造函数</h3> <blockquote><p>用于传递参数，返回实例对象</p></blockquote> <h3 id="_2-5-类添加方法"><a href="#_2-5-类添加方法" class="header-anchor">#</a> 2.5. 类添加方法</h3> <h2 id="_3-类的继承"><a href="#_3-类的继承" class="header-anchor">#</a> 3. 类的继承</h2> <h3 id="_3-1-继承"><a href="#_3-1-继承" class="header-anchor">#</a> 3.1. 继承</h3> <blockquote><p>子类继承父类的一些方法和属性</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    
  <span class="token punctuation">}</span>
  <span class="token function">money</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
  
<span class="token punctuation">}</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
son<span class="token punctuation">.</span><span class="token function">money</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_3-2-super关键字"><a href="#_3-2-super关键字" class="header-anchor">#</a> 3.2. super关键字</h3> <blockquote><p>让子类可以调用父类的<strong>构造函数</strong>，也可以调用父类的<strong>普通函数</strong></p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sum</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用父类的构造函数</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span>
son<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//普通函数</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
 <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token string">'Dad'</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
  <span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; 's son&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//super.say() 调用父类的普通方法</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
son<span class="token punctuation">.</span><span class="token function">say</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//继承中的属性或者方法查找原则：就近原则</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">class</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//子类继承父类加法方法 同时 拓展减法方法</span>
<span class="token keyword">class</span> <span class="token class-name">Son</span> <span class="token keyword">extends</span> <span class="token class-name">Father</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//子类在构造函数中使用super，必须放在this前面（必须先调用父类的构造方法，再使用子类构造方法</span>
    <span class="token keyword">super</span><span class="token punctuation">(</span>x<span class="token punctuation">,</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//调用父类的构造函数</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">=</span> x<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>y <span class="token operator">=</span> y<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">subtract</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>x <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>y<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span>
son<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>注意点：</p> <ol><li><p>在ES6 中类没有变量提升，所以必须先定义类，才可以用过类实例化对象</p></li> <li><p>类里面的共有的属性和方法一定要加this使用</p></li> <li><p>类里面的this指向问题</p></li> <li><p>constructor里面的this指向<strong>实例对象</strong>，方法里面的this指向方法的<strong>调用者</strong></p></li></ol> <h2 id="_4-构造函数和原型"><a href="#_4-构造函数和原型" class="header-anchor">#</a> 4. 构造函数和原型</h2> <h3 id="_4-1-概念"><a href="#_4-1-概念" class="header-anchor">#</a> 4.1. 概念</h3> <blockquote><p>在ES6（ECMAScript 6.0 2015版）之前，对象不是基于类创建的，而是用一种称为<strong>构建函数</strong>的特殊函数来定义对象和它们的特征</p></blockquote> <p>创建对象可以通过以下三种方式：</p> <ol><li>对象字面量</li> <li>new Object()</li> <li>自定义构造函数</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//1. 利用 new Object()</span>
<span class="token keyword">var</span> obj1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//2. 利用 对象字面量创建对象</span>
<span class="token keyword">var</span> obj2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-2-构造函数"><a href="#_4-2-构造函数" class="header-anchor">#</a> 4.2. 构造函数</h3> <blockquote><p>是一种特殊的函数，主要用来初始化对象，即为对象成员变量赋值初始值，它总与new 一起使用。我们可以把对象中一些公共的属性和方法抽取出来，然后<strong>封装</strong>到这个函数里面</p></blockquote> <p>注意：</p> <ol><li>创建某一类对象，其<strong>首字母要大写</strong></li> <li>要和<strong>new</strong>一起使用才有意义</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//3. 利用构造函数创建对象</span>
<span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">sing</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I can sing!'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> zx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'zx'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1. 实例成员就是构造函数内部通过this添加的成员 uname age sing 等就是实例成员</span>
<span class="token comment">// 实例成员只能通过实例化的对象来访问</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zx<span class="token punctuation">.</span>uname<span class="token punctuation">)</span>
zx<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//console.log(Star.uname);//不可以通过构造函数来访问实例成员</span>
<span class="token comment">//2. 静态成员 在构造函数本身上添加的成员 sex 就是静态成员</span>
Star<span class="token punctuation">.</span>sex <span class="token operator">=</span> <span class="token string">'man'</span><span class="token punctuation">;</span>
<span class="token comment">//静态成员只能通过构造函数来访问</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Star<span class="token punctuation">.</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//console.log('zx.sex'); //不能通过对象来访问</span>
</code></pre></div><ol start="3"><li><strong>new 在执行时会做的四件事</strong></li></ol> <ul><li>在内存中创建一个新的空对象</li> <li>让this指向这个新的对象</li> <li>执行构造函数里面的代码，给这个新对象添加属性和方法</li> <li>返回这个新对象（所以构造函数里面不需要return）</li></ul> <ol start="4"><li>静态成员：（看上面代码注释</li> <li>实例成员：（看上面代码注释</li></ol> <h3 id="_4-3-构造函数的问题"><a href="#_4-3-构造函数的问题" class="header-anchor">#</a> 4.3. 构造函数的问题</h3> <p><img src="/assets/img/4.3.9566d4bc.png" alt="image 构造函数"></p> <h3 id="_4-4-构造函数原型-prototype"><a href="#_4-4-构造函数原型-prototype" class="header-anchor">#</a> 4.4. 构造函数原型 prototype</h3> <p><img src="/assets/img/4.4.de5b38fd.png" alt="image-prototype"></p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//解决方法：</span>
<span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token comment">//this.sing = function(){</span>
  <span class="token comment">// console.log('I can sing!')</span>
  <span class="token comment">// }</span>
<span class="token punctuation">}</span>
<span class="token class-name">Star</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sing</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I can sing!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//使用原型对象定义的方法，使用的是同一个内存地址的方法</span>
<span class="token keyword">var</span> zx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'zx'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> zs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'zs'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
zx<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
zx<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>一般情况下，我们的公共属性定义在构造函数里面，公共的方法我们放到原型对象上</li></ul> <h3 id="_4-5-对象原型-proto"><a href="#_4-5-对象原型-proto" class="header-anchor">#</a> 4.5. 对象原型<code>__proto__</code></h3> <blockquote><p>对象都会有一个属性<code>__proto__</code>指向构造函数的prototype原型对象</p></blockquote> <ul><li>prototype和<code>__proto__</code>是等价的</li> <li><code>__proto__</code>意义在于：为对象的查找机制提供一个方向，或者说一条路线，然而它是一个非标准属性，因此在实际开发中，不可以使用这个属性，它只是内部指向<strong>原型对象prototype</strong></li></ul> <h3 id="_4-6-constructor-构造函数"><a href="#_4-6-constructor-构造函数" class="header-anchor">#</a> 4.6. constructor 构造函数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//Star.prototype.sing = function(){</span>
<span class="token comment">//  console.log('I can sing!');</span>
<span class="token comment">//}</span>
<span class="token class-name">Star</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">//如果我们修改了原来的原型独享，给原型对象赋值的是一个对象，则必须手动的利用constructor指会原来的构造函数</span>
  constructor<span class="token operator">:</span>Star<span class="token punctuation">,</span>
  <span class="token function-variable function">sing</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I can sing!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> zx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'zx'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Star</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zx<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Star</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>zx<span class="token punctuation">.</span><span class="token class-name">__proto__</span><span class="token punctuation">.</span>constructor<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_4-7-构造函数、实例、原型对象三者之间的关系"><a href="#_4-7-构造函数、实例、原型对象三者之间的关系" class="header-anchor">#</a> 4.7. 构造函数、实例、原型对象三者之间的关系</h3> <p><img src="/assets/img/4.7.d6aa39a2.png" alt="image-三者关系"></p> <h3 id="_4-8-原型链"><a href="#_4-8-原型链" class="header-anchor">#</a> 4.8. 原型链</h3> <p><img src="/assets/img/4.8.08010497.png" alt="image-原型链"></p> <h3 id="_4-9-javascript的成员查找机制（规则）"><a href="#_4-9-javascript的成员查找机制（规则）" class="header-anchor">#</a> 4.9. JavaScript的成员查找机制（规则）</h3> <ol><li>当访问一个对象的属性（包括方法）时，首先查找这个<strong>对象自身</strong>有没有该属性</li> <li>如果没有就查找它的原型（也就是<code>__proto__</code>指向的<strong>prototype原型对象</strong>）</li> <li>如果还没有就查找原型对象的原型（<strong>Object的原型对象</strong>）</li> <li>以此类推一直找到Object为止（<strong>null</strong>）</li> <li><code>__proto__</code>对象原型的意义就在于为对象成员查找机制提供一个方向，或者说是一条路线</li></ol> <h3 id="_4-10-原型对象this指向"><a href="#_4-10-原型对象this指向" class="header-anchor">#</a> 4.10. 原型对象this指向</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
  	<span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
	<span class="token class-name">Star</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sing</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I can sing!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
	<span class="token keyword">var</span> zx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token string">'zx'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1.在构造函数中，里面this指向的是 对象实例</span>
	zx<span class="token punctuation">.</span><span class="token function">sing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//2.原型对象函数里面的this 指向的是 实例对象 zx</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_4-11-拓展内置对象"><a href="#_4-11-拓展内置对象" class="header-anchor">#</a> 4.11. 拓展内置对象</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">//原型对象的应用 拓展内置对象方法</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token class-name">Arrya</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">sum</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      sum <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> sum<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token comment">/* 不能覆盖操作
//下方这种方式，会把原先的prototype给覆盖了
Array.prototype = {
  sum: function() {
    var sum = 0;
    for(var i = 0; i &lt; this.length; i++){
      sum += this[i];
    }
    return sum;
  }
}
*/</span>
	<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">.</span><span class="token function">sum</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Array</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>  
</code></pre></div><h2 id="_5-继承"><a href="#_5-继承" class="header-anchor">#</a> 5. 继承</h2> <blockquote><p>ES6之前并没有给我们提供extends继承。我们可以通过<strong>构造函数+原型对象</strong>模拟实现继承，被称为<strong>组合继承</strong></p></blockquote> <h3 id="_5-1-call"><a href="#_5-1-call" class="header-anchor">#</a> 5.1. call()</h3> <blockquote><p>调用这个函数，并且修改函数运行时的this指向</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">fun</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>thisArg<span class="token punctuation">,</span>ar1<span class="token punctuation">,</span>arg2<span class="token punctuation">,</span><span class="token operator">...</span><span class="token punctuation">)</span>
<span class="token comment">//thisArg:当前调用函数this的指向对象</span>
<span class="token comment">//arg1,arg2:传递的其他参数</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">//call 方法</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">x<span class="token punctuation">,</span>y</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I want to drink coffee'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x <span class="token operator">+</span> y<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'andy'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//fn();</span>
<span class="token comment">//1.call() 可以调用函数</span>

<span class="token comment">//fn.call();</span>

<span class="token comment">//2. call() 可以改变这个函数的this指向 此时这个函数的this 就指向了o这个对象</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_5-2-借用构造函数继承父类属性"><a href="#_5-2-借用构造函数继承父类属性" class="header-anchor">#</a> 5.2. 借用构造函数继承父类属性</h3> <blockquote><p>核心原理：通过 call() 把父类型的this指向子类的this，这样就可以实现子类型继承父类型的属性</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//借用父构造函数继承属性</span>
<span class="token comment">//1. 父构造函数</span>
<span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//this 指向父构造函数的对象实例</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//2. 子构造函数</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age<span class="token punctuation">,</span>score</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//this 指向子构造函数的对象实例</span>
  <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>uname<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">'zx'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Son<span class="token punctuation">)</span><span class="token comment">//=&gt;uname:&quot;zx&quot;,age:18,score:100</span>
</code></pre></div><h3 id="_5-3-借用原型对象继承父类型方法"><a href="#_5-3-借用原型对象继承父类型方法" class="header-anchor">#</a> 5.3. 借用原型对象继承父类型方法</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//借用福构造函数继承属性</span>
<span class="token comment">//1. 父构造函数</span>
<span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//this 指向父构造函数的对象实例</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">money</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">//2. 子构造函数</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age<span class="token punctuation">,</span>score</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//this 指向子构造函数的对象实例</span>
  <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>uname<span class="token punctuation">,</span>age<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//Son.prototype = Father.prototype;</span>
<span class="token comment">//可以拿到Father里面的方法（但是这样的赋值有问题，因为修改了子原型对象，父原型对象也会跟着一起变化，因为赋值的是内存地址，而不是开辟一个新的内存空间</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Father</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//利用对象的形式修改了原型对象，别忘了用constructor 指回原来的原型对象</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">=</span> Son<span class="token punctuation">;</span>
<span class="token class-name">Son</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">exam</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">//这样给子构造函数对象添加方法，父构造函数也会有，因为内存地址相同</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I need take a exam'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">'zx'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Son<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;uname:&quot;zx&quot;,age:18,score:100</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Father</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="/assets/img/5.3.df0f11d6.png" alt="image-实际地址变化"></p> <h2 id="_6-es5中新增的方法"><a href="#_6-es5中新增的方法" class="header-anchor">#</a> 6. ES5中新增的方法</h2> <h3 id="_6-1-方法描述"><a href="#_6-1-方法描述" class="header-anchor">#</a> 6.1. 方法描述</h3> <ol><li>数组方法</li> <li>字符串方法</li> <li>对象方法</li></ol> <h3 id="_6-2-数组方法"><a href="#_6-2-数组方法" class="header-anchor">#</a> 6.2. 数组方法</h3> <blockquote><p>迭代（遍历）方法：forEach()、filter()、map()、some()、every()</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code>array<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">currentValue<span class="token punctuation">,</span> index<span class="token punctuation">,</span> arr</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token comment">//currentValue: 数组当前项的值</span>
<span class="token comment">//index: 数组当前项的索引</span>
<span class="token comment">//arr: 数组对象本身</span>

<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
arr<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>index<span class="token punctuation">,</span>array<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//1 0 (3) [1, 2, 3]</span>
<span class="token comment">//2 1 (3) [1, 2, 3]</span>
<span class="token comment">//3 2 (3) [1, 2, 3]</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//filter(function(value,index,arr){ }) =&gt; 主要用于筛选数组</span>
<span class="token comment">//1. 直接返回一个新数组（返回的是所有满足条件的元素）</span>
<span class="token comment">//currentValue: 数组当前项的值</span>
<span class="token comment">//index: 数组当前项的索引</span>
<span class="token comment">//arr: 数组对象本身</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">12</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">88</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> newArr <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">&gt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>newArr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;[66,88]</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//some(function(value,index,arr){ }) =&gt; 查询数组中是否存在有满足条件的元素</span>
<span class="token comment">//它的返回值是布尔值，如果有返回true，否则返回false</span>
<span class="token comment">//1. 如果找到第一个满足条件的元素，则终止循环，不再继续查找</span>
<span class="token comment">//currentValue: 数组当前项的值</span>
<span class="token comment">//index: 数组当前项的索引</span>
<span class="token comment">//arr: 数组对象本身</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">30</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> flag <span class="token operator">=</span> arr<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">return</span> value <span class="token operator">&gt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>flag<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;true</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// map(function(value,index,arr){ })</span>
<span class="token comment">//currentValue: 数组当前项的值</span>
<span class="token comment">//index: 数组当前项的索引</span>
<span class="token comment">//arr: 数组对象本身</span>

<span class="token keyword">const</span> array1 <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token number">9</span><span class="token punctuation">,</span> <span class="token number">16</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> map1 <span class="token operator">=</span> array1<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">x</span> <span class="token operator">=&gt;</span> x <span class="token operator">*</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>map1<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; Array [2, 8, 18, 32]</span>
</code></pre></div><h3 id="_6-3-字符串方法"><a href="#_6-3-字符串方法" class="header-anchor">#</a> 6.3. 字符串方法</h3> <ol><li>trim()方法 ；</li></ol> <blockquote><p>删除一个字符串两端的空白字符，不会影响原字符串本身，返回的是一个新字符串</p></blockquote> <h3 id="_6-4-对象方法"><a href="#_6-4-对象方法" class="header-anchor">#</a> 6.4. 对象方法</h3> <ol><li>Object.keys()方法；</li></ol> <blockquote><p>用来获取对象自身所有的属性；</p> <ul><li>效果类似for...in</li> <li>返回一个由属性名组成的<strong>数组</strong></li></ul></blockquote> <ol start="2"><li>Object.defineProperty()方法；</li></ol> <blockquote><p>Object.defineProperty(obj, prop, descriptor)定义对象中新属性或修改原有的属性</p> <ul><li>obj：必须。是目标对象</li> <li>prop：必须。是需要定义或修改的属性名</li> <li>descriptor：必须。是目标属性所拥有的特性
<ul><li>需要以{ }对象的形式书写</li> <li>value：设置属性的值，默认为<strong>undefined</strong></li> <li>writable：值是否可以重写。true|false 默认为false</li> <li>enumerable：目标属性是否可以被<strong>枚举</strong>(就是是否可以被遍历出来)。true|false，默认为false</li> <li>configurable：目标属性是否可以被<strong>删除</strong>或是否可以<strong>再次修改</strong>特性。true|false，默认为false</li></ul></li></ul></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  id<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span>
  name<span class="token operator">:</span><span class="token string">'zx'</span><span class="token punctuation">,</span>
  sex<span class="token operator">:</span><span class="token string">'male'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">//1. 以前的对象 进行添加和修改属性的方式</span>
<span class="token comment">// obj.num = 1000;</span>
<span class="token comment">// obj.sex = 'female';</span>
<span class="token comment">// console.log(obj);</span>
<span class="token comment">//2. Object.defineProperty(obj, prop, descriptor)定义新属性</span>
Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">'num'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  value<span class="token operator">:</span> <span class="token number">1000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_7-函数的定义和调用"><a href="#_7-函数的定义和调用" class="header-anchor">#</a> 7. 函数的定义和调用</h2> <h3 id="_7-1-函数的定义方法"><a href="#_7-1-函数的定义方法" class="header-anchor">#</a> 7.1. 函数的定义方法</h3> <blockquote><ol><li>函数声明方式 function 关键字（命名函数）</li> <li>函数表达式（匿名函数）</li> <li>new Function('参数1','参数2'，..., '函数体')
<ul><li>Function里面的参数必须都是字符串格式</li> <li>第三种方式执行效率低，也不翻遍书写，因此较少使用</li> <li>所有函数都是Function的实例（对象）</li> <li>函数也属于对象</li></ul></li></ol></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1. 自定义函数</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//2.函数表达式</span>
<span class="token keyword">var</span> <span class="token function-variable function">fun</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">//3.利用new Function('参数1','参数2','函数体');</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Function</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span><span class="token string">'b'</span><span class="token punctuation">,</span><span class="token string">'console.log(a + b)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;3</span>

<span class="token comment">//4. 所有函数都是 Function 的实例（对象）</span>
console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;true</span>
</code></pre></div><p><img src="/assets/img/7.1.13e7e2a5.png" alt="image-三角关系"></p> <h3 id="_7-2-函数的调用方式"><a href="#_7-2-函数的调用方式" class="header-anchor">#</a> 7.2. 函数的调用方式</h3> <blockquote><ol><li>普通函数</li> <li>对象的方法</li> <li>构造函数</li> <li>绑定事件函数</li> <li>定时器函数</li> <li>立即执行函数</li></ol></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1.</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">//fn();   或者 fn.call()</span>

<span class="token comment">//2.</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token function-variable function">sayHi</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
o<span class="token punctuation">.</span><span class="token function">sayHi</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//3.</span>
<span class="token keyword">function</span> <span class="token function">Star</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Star</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">//4.</span>
btn<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//点击按钮就调用</span>

<span class="token comment">//5.</span>
<span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token comment">//1s自动调用一次</span>

<span class="token comment">//6.</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'hi~'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//立即执行函数是自动调用</span>
</code></pre></div><h2 id="_8-this"><a href="#_8-this" class="header-anchor">#</a> 8. this</h2> <h3 id="_8-1-函数内this的指向"><a href="#_8-1-函数内this的指向" class="header-anchor">#</a> 8.1. 函数内this的指向</h3> <blockquote><p>this的指向，是当我们调用函数的时候确定的。调用方式的不同决定了this的指向不同，一般指向我们的调用者</p></blockquote> <table><thead><tr><th>调用方式</th> <th>this指向</th></tr></thead> <tbody><tr><td>普通函数</td> <td>window</td></tr> <tr><td>构造函数</td> <td>实例对象、原型对象里面的方法也指向实例对象</td></tr> <tr><td>对象方法</td> <td>该方法所属对象</td></tr> <tr><td>事件绑定方法</td> <td>绑定事件对象</td></tr> <tr><td>定时器函数</td> <td>window</td></tr> <tr><td>立即执行函数</td> <td>window</td></tr></tbody></table> <h3 id="_8-2-改变函数内部this指向"><a href="#_8-2-改变函数内部this指向" class="header-anchor">#</a> 8.2. 改变函数内部this指向</h3> <blockquote><p>常用的方法：bind()、call()、apply()</p></blockquote> <h3 id="_8-2-1-call"><a href="#_8-2-1-call" class="header-anchor">#</a> 8.2.1. call()</h3> <blockquote><p>call()方法<strong>调用</strong>一个对象。简单理解：调用函数的方式，并且可以改变函数的this指向</p> <p>fun.call(thisArg, arg1, arg2, ...)</p> <p>call() 的主要作用可以实现继承</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1.call()</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'zx'</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">fu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;window</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;console.log(this)=&gt;{name:'zx'}</span>

<span class="token comment">//call 的主要作用可以实现继承</span>
<span class="token keyword">function</span> <span class="token function">Father</span><span class="token punctuation">(</span><span class="token parameter">uname<span class="token punctuation">,</span>age<span class="token punctuation">,</span>sex</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>uname <span class="token operator">=</span> uname<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">Father</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> uname<span class="token punctuation">,</span> age<span class="token punctuation">,</span> sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> son <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Son</span><span class="token punctuation">(</span><span class="token string">'zx'</span><span class="token punctuation">,</span><span class="token number">18</span><span class="token punctuation">,</span><span class="token string">'male'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>son<span class="token punctuation">)</span>
</code></pre></div><h3 id="_8-2-2-apply"><a href="#_8-2-2-apply" class="header-anchor">#</a> 8.2.2. apply()</h3> <blockquote><p>fun.apply(thisArg, [argsArray])</p> <p>简单理解为调用函数的方式，但是它可以改变函数的this指向</p> <ul><li>thisArg: 在fun函数运行时指定的this值</li> <li>argsArray: 传递的值，必须包含在<strong>数组</strong>里面</li> <li>返回值就是函数的返回值，因为它就是调用函数</li></ul></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//1. apply()</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'zx'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;Object</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; teal</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'teal'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//1. 也是调用函数 第二个可以改变函数内部的this指向</span>
<span class="token comment">//2. 第二个参数必须是数组（伪数组也可以）</span>
<span class="token comment">//3. apply 的主要应用 如：利用apply 借助于数学内置对象求最大值（Math.max()）;</span>
<span class="token keyword">var</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">66</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">99</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//var max = Math.max.apply(null,arr);</span>
<span class="token keyword">var</span> max <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> min <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>Math<span class="token punctuation">,</span>arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>max<span class="token punctuation">,</span>min<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;99,1</span>
</code></pre></div><h3 id="_8-2-3-bind"><a href="#_8-2-3-bind" class="header-anchor">#</a> 8.2.3. bind()</h3> <blockquote><p>不会立即调用函数，但是能改变函数内部this指向</p> <p>fun.bind(thisArg, arg1, arg2, ...)</p> <ul><li>thisArg: 在fun函数运行时指定的this值</li> <li>arg1, arg2: 传递的其他参数</li> <li>返回由指定的this值和初始化参数改造的 <strong>原函数拷贝</strong></li></ul></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>body<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span><span class="token string">'zx'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;{name:'zx'}</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt; 3</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 如果有的函数我们不需要立即调用，但是又想改变该函数的this指向，此时用bind</span>
<span class="token comment">// 如：有一个按钮，当我们点击后，就禁用这个按钮，3s后再开启这个按钮</span>
<span class="token keyword">var</span> btn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/*
// 以往的做法
btn.onclick = function(){
  this.disabled = true;// 这个this 指向的是btn按钮
  var that = this;
  setTimeout(function(){
    that.disabled = false;// 定时器函数this 指向window
  },3000)
}
*/</span>
<span class="token comment">// 用bind()方法：</span>
<span class="token comment">/* 
btn.onclick = function(){
  this.disabled = true;// 这个this 指向的是btn按钮
  setTimeout(function(){
    that.disabled = false;// 定时器函数this 指向window
  }.bind(this),3000)// 这个this指向 btn这个对象
}
*/</span>

<span class="token comment">// 案例2：</span>
<span class="token keyword">var</span> btns <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'button'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> btns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  btns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   	 that<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  	<span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>body<span class="token operator">&gt;</span>
</code></pre></div><h3 id="call、apply、bind三个方法的区别"><a href="#call、apply、bind三个方法的区别" class="header-anchor">#</a> call、apply、bind三个方法的区别</h3> <table><thead><tr><th></th> <th>call()</th> <th>apply()</th> <th>bind()</th></tr></thead> <tbody><tr><td>立即调用函数</td> <td>会</td> <td>会</td> <td>不会</td></tr> <tr><td>传递的参数</td> <td>arg1,arg2, ...</td> <td>必须以数组的形式: ['xx']</td> <td>不用传递参数</td></tr> <tr><td>改变函数内部this指向</td> <td>能</td> <td>能</td> <td>能</td></tr> <tr><td>应用场景</td> <td>常用于继承</td> <td>经常跟数组有关，例如借助数学对象实现数组最大值和最小值</td> <td>不需要调用函数，但是有需要改变this指向，例如：改变定时器内部的this指向</td></tr></tbody></table> <h2 id="_9-严格模式"><a href="#_9-严格模式" class="header-anchor">#</a> 9. 严格模式</h2> <h3 id="_9-1-定义"><a href="#_9-1-定义" class="header-anchor">#</a> 9.1. 定义</h3> <blockquote><p>严格模式（strict mode）</p> <p>要在IE10以上的浏览器才被支持，旧版本浏览器会被忽略</p></blockquote> <ul><li>消除了JavaScript语法的一些不合理、不严谨支出，减少了一些怪异行为</li> <li>消除代码运行的一些不安全之处，保证代码运行的安全</li> <li>提高编译器效率，增加运行速度</li> <li>禁用了在ECMAScript的未来版本中可能会定义的一些语法，为未来新版本的JavaScript做好铺垫。比如一些保留字：class\enum\export\extends\import\super 不能作为变量名</li></ul> <h3 id="_9-2-开启严格模式"><a href="#_9-2-开启严格模式" class="header-anchor">#</a> 9.2. 开启严格模式</h3> <blockquote><ol><li>应用到 <strong>整个脚本</strong></li> <li>应用到 <strong>个别函数</strong></li></ol></blockquote> <h3 id="_9-2-1-为脚本开启严格模式"><a href="#_9-2-1-为脚本开启严格模式" class="header-anchor">#</a> 9.2.1. 为脚本开启严格模式</h3> <blockquote><p>在所有语句之前放一个特定的语句 <code>'use strict'</code>;或者（<code>&quot;use strict&quot;</code>)</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token string">'use strict'</span>
<span class="token comment">// 为下方js 代码 开启严格模式</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token comment">//=&gt;为该函数开启严格模式</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token comment">//立即执行函数</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token string">'use strict'</span><span class="token comment">//=&gt;为该函数开启严格模式</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h3 id="_9-2-2-严格模式中的变化"><a href="#_9-2-2-严格模式中的变化" class="header-anchor">#</a> 9.2.2. 严格模式中的变化</h3> <ol><li><p>变量规定</p> <ul><li>变量必须先声明，然后再使用</li> <li>严禁删除已经声明过的变量</li></ul></li> <li><p>this指向问题</p> <ul><li>以前在全局作用域函数中的this指向window对象</li> <li>严格模式下：全局作用域函数中的this是undefined</li> <li>以前构造函数时不加new也可以调用，当普通函数，this指向全局对象</li> <li>严格模式下：如果构造函数不加new调用，this会报错</li> <li>new实例化的构造函数指向创建的对象实例</li> <li>定时器this还是指向window</li> <li>事件、对象还是指向调用者</li></ul></li> <li><p>函数变化</p> <ul><li>函数不能有重名的<strong>参数</strong></li> <li>函数必须声明在顶层，不允许在非函数的代码块内声明函数</li></ul></li></ol> <h2 id="_10-高阶函数"><a href="#_10-高阶函数" class="header-anchor">#</a> 10. 高阶函数</h2> <blockquote><p><strong>高阶函数</strong> 是对其他函数进行操作的函数，它 <strong>接收函数作为参数</strong> 或 <strong>将函数作为返回值输出</strong></p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token comment">// 高阶函数-函数可以作为参数传递</span>
  <span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span>b<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a <span class="token operator">+</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
  callback <span class="token operator">&amp;&amp;</span> <span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'我是最后调用的'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  left<span class="token operator">:</span><span class="token number">500</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token string">&quot;backgroundColor&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;teal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_11-闭包"><a href="#_11-闭包" class="header-anchor">#</a> 11. 闭包</h2> <h3 id="_11-1-变量作用域"><a href="#_11-1-变量作用域" class="header-anchor">#</a> 11.1. 变量作用域</h3> <blockquote><p>全局变量和局部变量</p> <ol><li>函数内部可以使用全局变量</li> <li>函数外部不可以使用局部变量</li> <li>当函数执行完毕，本作用域内的局部变量会销毁</li></ol></blockquote> <h3 id="_11-2-什么是闭包"><a href="#_11-2-什么是闭包" class="header-anchor">#</a> 11.2. 什么是闭包</h3> <blockquote><p><strong>闭包（closure）</strong> ：指有权 <strong>访问</strong> 另一个函数作用域中 <strong>变量</strong> 的 <code>函数</code></p> <p>闭包的主要作用：延伸了变量的作用范围（延长了变量的生存时间）</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 函数外面的作用域访问fn内部的局部变量</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> f <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//产生闭包，闭包是fn(),获得的是num</span>
<span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;10</span>
</code></pre></div><h3 id="_11-3-闭包案例"><a href="#_11-3-闭包案例" class="header-anchor">#</a> 11.3. 闭包案例</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>榴莲<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>臭豆腐<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>香蕉<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>苹果<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 闭包应用：点击li输出当前li的索引号</span>
  <span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.nav'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>index <span class="token operator">=</span> i<span class="token punctuation">;</span><span class="token comment">// 2.这个方式打印的就是对应的索引值</span>
    lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">//1. console.log(i);//=&gt;无论点那个都是打印4</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>index<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

	<span class="token comment">//2. 利用闭包的方式得到当前小li 的索引号</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 利用for循环创建4个立即执行函数</span>
    <span class="token comment">// 立即执行函数也是小闭包，因为立即执行函数里面的任何一个函数都可以使用它的i变量</span>
    <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">{</span>
     <span class="token comment">// console.log(i);//=&gt;0,1,2,3</span>
      lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;这个方式打印的就是对应的索引值</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>榴莲<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>臭豆腐<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>香蕉<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
	<span class="token operator">&lt;</span>li<span class="token operator">&gt;</span>苹果<span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
  <span class="token comment">// 3秒后，打印所有li元素的内容</span>
  <span class="token keyword">var</span> lis <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.nav'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">'li'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> lis<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    	<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        	<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        		console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>lis<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">)</span><span class="token punctuation">;</span>
      	<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token number">3000</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 计算打车价格</span>
<span class="token comment">// 打车起步价13（3公里内），之后每多一公里增加 5块钱，用户输入公里数就可以计算打车价格</span>
<span class="token comment">// 如果有拥堵情况，总价格多收取10块拥堵费</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
 <span class="token keyword">var</span> car <span class="token operator">=</span>  <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  	<span class="token keyword">var</span> start <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span><span class="token comment">//起步价</span>
  	<span class="token keyword">var</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//总价</span>
  	<span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token function-variable function">price</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">&lt;=</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
          total <span class="token operator">=</span> start<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span><span class="token punctuation">{</span>
          total <span class="token operator">=</span> start <span class="token operator">+</span> <span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">5</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> total<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//正常价格</span>
      <span class="token function-variable function">yd</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">flag</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> flag <span class="token operator">?</span> total <span class="token operator">+</span> <span class="token number">10</span> <span class="token operator">:</span> total<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token comment">// 拥堵后的价格</span>
    <span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//23</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span><span class="token function">yd</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//33</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span><span class="token function">price</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//13</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>car<span class="token punctuation">.</span><span class="token function">yd</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//13</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><p>思考题：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//思考题 1：</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
	<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;The Window&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;My Object&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getNameFunc</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">getNameFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//=&gt;&quot;The Window&quot;,没有闭包</span>


<span class="token comment">//思考题 2：</span>
	<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;The Window&quot;</span><span class="token punctuation">;</span>
	<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">&quot;My Object&quot;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">getNameFunc</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">var</span> that <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> that<span class="token punctuation">.</span>name<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>object<span class="token punctuation">.</span><span class="token function">getNameFunc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//=&gt;&quot;My Object&quot;,产生了闭包</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre></div><h2 id="_12-迭代"><a href="#_12-迭代" class="header-anchor">#</a> 12. 迭代</h2> <h3 id="_12-1-什么是递归函数"><a href="#_12-1-什么是递归函数" class="header-anchor">#</a> 12.1. 什么是递归函数</h3> <blockquote><p>一个函数在内部可以调用其本身，那就可以称为<strong>递归函数</strong></p> <p>PS：由于递归很容易发生**”栈溢出“<strong>错误（stack overflow），所以</strong>必须添加退出条件 return**</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 递归函数</span>
<span class="token keyword">var</span> num <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'I want to play!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>num <span class="token operator">==</span> <span class="token number">6</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span><span class="token punctuation">;</span><span class="token comment">//=&gt;添加退出条件</span>
  <span class="token punctuation">}</span>
  num<span class="token operator">++</span><span class="token punctuation">;</span>
  <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_12-2-利用递归求数学题"><a href="#_12-2-利用递归求数学题" class="header-anchor">#</a> 12.2. 利用递归求数学题</h3> <blockquote><ol><li>求 1 * 2 * 3 ......*n 阶乘</li></ol></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 求1~n的阶乘</span>
<span class="token keyword">function</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">==</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> n <span class="token operator">*</span> <span class="token function">fn</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;6</span>
<span class="token comment">// 思路 假如用户输入的是3 </span>
<span class="token comment">//return 3 * fn(2)</span>
<span class="token comment">// fn(2)=&gt; return 2 * fn(1)</span>
<span class="token comment">// fn(1)=&gt; retrun 1</span>
<span class="token comment">// 最终：3 * 2 * 1</span>
</code></pre></div><h3 id="_12-3-求斐波那契数列"><a href="#_12-3-求斐波那契数列" class="header-anchor">#</a> 12.3. 求斐波那契数列</h3> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 斐波那契数列（兔子序列）1、1、2、3、5、8、13、21.......</span>
<span class="token comment">// 用户输入一个数字n就可以求出 这个数字对应的兔子序列值</span>
<span class="token keyword">function</span> <span class="token function">fb</span><span class="token punctuation">(</span><span class="token parameter">n</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span>n <span class="token operator">===</span><span class="token number">1</span> <span class="token operator">||</span> n <span class="token operator">===</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token function">fb</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token function">fb</span><span class="token punctuation">(</span>n<span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">fb</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_12-4-递归求：根据id返回对应的数据对象"><a href="#_12-4-递归求：根据id返回对应的数据对象" class="header-anchor">#</a> 12.4. 递归求：根据id返回对应的数据对象</h3> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'家电'</span><span class="token punctuation">,</span>
        goods<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">11</span><span class="token punctuation">,</span> gname<span class="token operator">:</span> <span class="token string">'冰箱'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span> gname<span class="token operator">:</span> <span class="token string">'洗衣机'</span><span class="token punctuation">,</span> goods<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">111</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'samsung'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">'服饰'</span> <span class="token punctuation">}</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// 1. 用 forEach 遍历每一个对象</span>
    <span class="token keyword">function</span> <span class="token function">getID</span><span class="token punctuation">(</span><span class="token parameter">json<span class="token punctuation">,</span> id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      json<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>id <span class="token operator">==</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// console.log(item)</span>
          o <span class="token operator">=</span> item
          <span class="token keyword">return</span> item<span class="token punctuation">;</span>
          <span class="token comment">//2. 想得到里层的数据 利用递归</span>
          <span class="token comment">// 里面应该有goods 这个数组并且 数组的长度不为零</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item<span class="token punctuation">.</span>goods <span class="token operator">&amp;&amp;</span> item<span class="token punctuation">.</span>goods<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          o <span class="token operator">=</span> <span class="token function">getID</span><span class="token punctuation">(</span>item<span class="token punctuation">.</span>goods<span class="token punctuation">,</span> id<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> o
    <span class="token punctuation">}</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">getID</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span> <span class="token number">111</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="_13-浅拷贝和深拷贝"><a href="#_13-浅拷贝和深拷贝" class="header-anchor">#</a> 13. 浅拷贝和深拷贝</h2> <blockquote><ol><li><strong>浅拷贝</strong>只是拷贝一层，更深层次对象级别的只拷贝引用</li> <li><strong>深拷贝</strong>拷贝多层，每一级别的数据都会拷贝</li></ol></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 浅拷贝</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'zx'</span><span class="token punctuation">,</span>
      msg<span class="token operator">:</span> <span class="token punctuation">{</span>
        age<span class="token operator">:</span> <span class="token number">18</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token comment">/* for (var k in obj) {
      //k是属性名 obj[k]属性值
      o[k] = obj[k]
    } */</span>
    <span class="token comment">// console.log(o);//=&gt;{id: 1, name: &quot;zx&quot;, msg: {…}}</span>
    <span class="token comment">//看似拷贝了，但是msg拷贝是内存地址，一旦修改，原obj里面的msg也会被修改</span>
    <span class="token comment">//--------------------------------</span>
    <span class="token comment">// ES6 新增的浅拷贝语法糖</span>
    Object<span class="token punctuation">.</span><span class="token function">assign</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> obj<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;{id: 1, name: &quot;zx&quot;, msg: {…}}</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 深拷贝</span>
<span class="token comment">//深拷贝</span>
    <span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
      id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
      name<span class="token operator">:</span> <span class="token string">'zx'</span><span class="token punctuation">,</span>
      msg<span class="token operator">:</span> <span class="token punctuation">{</span>
        age<span class="token operator">:</span> <span class="token number">18</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      hobbies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'羽毛球'</span><span class="token punctuation">,</span> <span class="token string">'篮球'</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">var</span> o <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token comment">//封装函数</span>
    <span class="token keyword">function</span> <span class="token function">deepCopy</span><span class="token punctuation">(</span><span class="token parameter">newobj<span class="token punctuation">,</span> oldobj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> k <span class="token keyword">in</span> oldobj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//判断属性值属于哪种数据类型</span>
        <span class="token comment">//1. 获取属性值 oldobj[k]</span>
        <span class="token keyword">let</span> item <span class="token operator">=</span> oldobj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token keyword">instanceof</span> <span class="token class-name">Array</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//2. 判断这个值是否数组</span>
          newobj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
          <span class="token function">deepCopy</span><span class="token punctuation">(</span>newobj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>item <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">//3. 判断这个值是否是对象</span>
          newobj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
          <span class="token function">deepCopy</span><span class="token punctuation">(</span>newobj<span class="token punctuation">[</span>k<span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token comment">//4. 属于简单数据类型</span>
          newobj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> item
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token function">deepCopy</span><span class="token punctuation">(</span>o<span class="token punctuation">,</span> obj<span class="token punctuation">)</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>o<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="_14-正则表达式"><a href="#_14-正则表达式" class="header-anchor">#</a> 14. 正则表达式</h2> <blockquote><p>**正则表达式（Regular Expression）**是用于匹配字符串中字符组合的模式</p> <p>在JS中，正则表达式是对象</p></blockquote> <h3 id="_14-1-创建正则表达式"><a href="#_14-1-创建正则表达式" class="header-anchor">#</a> 14.1. 创建正则表达式</h3> <ol><li>通过调用RegExp对象的构造函数创建</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//var 变量名 = new RegExp(/表达式/);</span>
<span class="token keyword">var</span> regexp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span><span class="token regex">/123/</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol start="2"><li>通过字面量创建</li></ol> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// var 变量名 = /表达式/;</span>
<span class="token keyword">var</span> rg <span class="token operator">=</span> <span class="token regex">/123/</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_14-2-测试正则表达式test"><a href="#_14-2-测试正则表达式test" class="header-anchor">#</a> 14.2. 测试正则表达式test</h3> <blockquote><p>test()正则对象方法，用于检测字符串是否符合该规则，该对象会返回true 或 false，其参数是测试字符串</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//regexObj.test(str)</span>
<span class="token comment">//1. regexObj 是写的正则表达式</span>
<span class="token comment">//2. str 我们要测试的文本</span>
<span class="token comment">//3. 就是检测str文本是否符合我们写的正则表达式规范</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> rg <span class="token operator">=</span> <span class="token regex">/123/</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;true</span>
</code></pre></div><h3 id="_14-3-正则表达式的组成"><a href="#_14-3-正则表达式的组成" class="header-anchor">#</a> 14.3. 正则表达式的组成</h3> <blockquote><p>一个正则表达是<strong>可以由简单的字符构成</strong>，比如/abc/，也可以是<strong>简单和特殊字符的组合</strong>，/ab*c/。其中特殊字符也被称为<strong>元字符</strong>，在正则表达是中具有特殊意义的专用<strong>符号</strong>，如^, $, +等</p> <p>参考网站：MDN、还有一个这个：http://css.cuishifeng.cn/</p></blockquote> <h3 id="_14-3-1-边界符"><a href="#_14-3-1-边界符" class="header-anchor">#</a> 14.3.1. 边界符</h3> <table><thead><tr><th>边界符</th> <th>说明</th></tr></thead> <tbody><tr><td>^</td> <td>表示匹配行首的文本（以谁开头）</td></tr> <tr><td>$</td> <td>表示匹配行尾的文本（以谁结尾）</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//边界符 ^ $</span>
<span class="token keyword">var</span> rg <span class="token operator">=</span> <span class="token regex">/abc/</span><span class="token punctuation">;</span>
<span class="token comment">//  /abc/ =&gt;只要包含abc这个字符串都会返回true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>re<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'abc'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//=&gt;true</span>

<span class="token comment">// 以abc开头的，才会true</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^abc/</span>

<span class="token comment">// 字符串只有abc，才会返回true</span>
<span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token regex">/^abc$/</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 字符类：[] 表示有一系列字符可供选择，只要匹配其中一个就可以了</span>
<span class="token comment">//=&gt; 只要包含a，或者 包含b 或者包含c 就会返回true</span>
<span class="token keyword">var</span> rg <span class="token operator">=</span> <span class="token regex">/[abc]/</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; 三选一 只有是a 或者是 b 或者是c 这三个字母才会返回true</span>
<span class="token keyword">var</span> rg1 <span class="token operator">=</span> <span class="token regex">/^[abc]$/</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//=&gt;false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//=&gt;true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//=&gt;true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rg1<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token comment">//=&gt;true</span>

<span class="token comment">//=&gt; 26个英文字母任何一个小写字母 就返回 true</span>
<span class="token keyword">var</span> rg2 <span class="token operator">=</span> <span class="token regex">/^[a-z]$/</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; 26个英文字母任何一个字母 就返回 true</span>
<span class="token keyword">var</span> rg3 <span class="token operator">=</span> <span class="token regex">/^[a-zA-Z]$/</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; 在[]内部加'^' 表示取反</span>
<span class="token keyword">var</span> rg3 <span class="token operator">=</span> <span class="token regex">/^[^a-zA-Z0-9_-]$/</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_14-3-2-量词符"><a href="#_14-3-2-量词符" class="header-anchor">#</a> 14.3.2. 量词符</h3> <blockquote><p>用来设定某个模式出现的次数</p></blockquote> <table><thead><tr><th>量词</th> <th>说明</th></tr></thead> <tbody><tr><td>*</td> <td>重复零次或者更多次</td></tr> <tr><td>+</td> <td>重复一次或者更多次</td></tr> <tr><td>？</td> <td>重复零次或者一次</td></tr> <tr><td>{n}</td> <td>重复n次</td></tr> <tr><td>{n,}</td> <td>重复n次或者更多次</td></tr> <tr><td>{n,m}</td> <td>重复n到m次</td></tr></tbody></table> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//=&gt; a重复3~6次都返回true，其余全是false</span>
<span class="token keyword">var</span> reg <span class="token operator">=</span> <span class="token regex">/^a{3,6}$/</span><span class="token punctuation">;</span>

<span class="token comment">//=&gt; []内的限定字符，需要有6~16位</span>
<span class="token keyword">var</span> reg1 <span class="token operator">=</span> <span class="token regex">/^[a-zA-Z0-9_-]{6,16}$/</span><span class="token punctuation">;</span>

<span class="token comment">/* 
	用户名验证思路：
		获取输入框，把输入框的内容用正则的test进行判断，true表示正确，则修改后方提示词的颜色和文本；false则反之
*/</span>
</code></pre></div><h3 id="_14-3-4-预定义类"><a href="#_14-3-4-预定义类" class="header-anchor">#</a> 14.3.4. 预定义类</h3> <blockquote><p>某些常见模式的简写方式</p></blockquote> <table><thead><tr><th>预定义类</th> <th>说明</th></tr></thead> <tbody><tr><td>\d</td> <td>匹配0-9之间的任一数字，相当于<code>[0-9]</code></td></tr> <tr><td>\D</td> <td>匹配所有0-9以外的字符，相当于   <code>[^0-9]</code></td></tr> <tr><td>\w</td> <td>匹配任意的字母、数字和下划线，相当于<code>[A-Za-z0-9_]</code></td></tr> <tr><td>\W</td> <td>除所有字母、数字和下划线以外的字符，相当于<code>[^A-Za-z0-9_]</code></td></tr> <tr><td>\s</td> <td>匹配空格（包括换行符、制表符、空格符等），相当于<code>[\t\r\n\v\f]</code></td></tr> <tr><td>\S</td> <td>匹配非空格的字符，相当于<code>[^\t\r\n\v\f]</code></td></tr></tbody></table></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.294fffad.js" defer></script><script src="/assets/js/2.f1532a20.js" defer></script><script src="/assets/js/3.99e5e321.js" defer></script>
  </body>
</html>
